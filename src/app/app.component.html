<!-- https://tburleson-layouts-demos.firebaseapp.com/#/docs -->
<div fxLayout="column" fxLayoutAlign="space-between center" >
<button (click)="loadData()" class="button">Load Data</button>

<!-- https://material.angular.io/components/ -->
<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Overview Stats</mat-card-title>
    <mat-card-subtitle class="card-subtitle">Player: {{character.name}}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    Shows a general overview of your stats.
    <p>Total Playtime: {{character.total_playtime}} Hrs
      <br>Total Kills: {{character.total_kills}}
      <br>Total Deaths: {{character.total_deaths}}
      <br>K/d: {{character.total_kills/character.total_deaths}}
      <br>Total Base Captures: {{character.total_captures}}
      <br>Total Base Defenses: {{character.total_defenses}}
    </p>

    <br>

    <p>Battle Rank: {{character.br}}</p>
    Progress to next battle rank ({{character.br_progress}}%)
    <mat-progress-bar mode="determinate" value="{{character.br_progress}}"></mat-progress-bar>

    <br>
    <br>

    <p>Current Certs: {{character.certs}}
      <br>Total Certs Earned: {{character.total_certs}}
    </p>
    Progress to next cert payout ({{character.certs_progress}}%)
    <mat-progress-bar mode="determinate" value="{{character.br_progress}}"></mat-progress-bar>
  </mat-card-content>
</mat-card>

<!-- DATA RELATED TO PLAYTIME -->

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Infantry Playtime Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows how long you have played as X class.
    <p> Class Playtime (Hrs): All Time</p>
    <app-playtimechart [playtime]="this.character.class_playtime" [index]="0"
    data_type= "infantry" [chartId]="'chart0'"></app-playtimechart>

    <p> Class Playtime (Hrs): Monthly</p>
    <app-playtimechart [playtime]="this.character.class_playtime" [index]="1"
    data_type= "infantry" [chartId]="'chart1'"></app-playtimechart>

    <p> Class Playtime (Hrs): Weekly</p>
    <app-playtimechart [playtime]="this.character.class_playtime" [index]="2"
    data_type= "infantry" [chartId]="'chart2'"></app-playtimechart>

    <p> Class Playtime (Hrs): Daily</p>
    <app-playtimechart [playtime]="this.character.class_playtime" [index]="3"
    data_type= "infantry" [chartId]="'chart3'"></app-playtimechart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Vehicle Playtime Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows how long you have played in X vehicle.
    <p> Vehicle Playtime (Hrs): All Time</p>
    <app-playtimechart [playtime]="this.character.vehicle_playtime" [index]="0"
    data_type= "vehicle" [displayOn]="false" [chartId]="'chart4'"></app-playtimechart>
  </mat-card-content>
</mat-card>

<!-- DATA RELATED TO BASE CAPTURES AND DEFENSES -->

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Base Captures/Defense Ratio</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows the ratio of bases captured or defended.
    <p> Base Capture/Defense: Monthly</p>
    <app-basechart [base_capture]="this.character.facility_captures"
    [base_defense]="this.character.facility_defenses" [index]="0"
    [basechartId]="'basechart1'"></app-basechart>

    <p> Base Capture/Defense: Weekly</p>
    <app-basechart [base_capture]="this.character.facility_captures"
    [base_defense]="this.character.facility_defenses" [index]="1"
    [basechartId]="'basechart2'"></app-basechart>

    <p> Base Capture/Defense: Daily</p>
    <app-basechart [base_capture]="this.character.facility_captures"
    [base_defense]="this.character.facility_defenses" [index]="2"
    [basechartId]="'basechart3'"></app-basechart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Base Captures</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows how many bases you captured by time.
    <p> Base Capture: Monthly</p>
    <app-linechart [data]="this.character.facility_captures" [index]="0"
    [linechartId]="'linechart1'" label="# of Bases"></app-linechart>

    <p> Base Capture: Weekly</p>
    <app-linechart [data]="this.character.facility_captures" [index]="1"
    [linechartId]="'linechart2'" label="# of Bases"></app-linechart>

    <p> Base Capture: Daily</p>
    <app-linechart [data]="this.character.facility_captures" [index]="2"
    [linechartId]="'linechart3'" label="# of Bases"></app-linechart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Base Defenses</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows how many bases you defended by time.
    <p> Base Defense: Monthly</p>
    <app-linechart [data]="this.character.facility_defenses" [index]="0"
    [linechartId]="'linechart4'" label="# of Bases"></app-linechart>

    <p> Base Defense: Weekly</p>
    <app-linechart [data]="this.character.facility_defenses" [index]="1"
    [linechartId]="'linechart5'" label="# of Bases"></app-linechart>

    <p> Base Defense: Daily</p>
    <app-linechart [data]="this.character.facility_defenses" [index]="2"
    [linechartId]="'linechart6'" label="# of Bases"></app-linechart>
  </mat-card-content>
</mat-card>

<!-- DATA RELATED TO KILLS & DEATHS -->

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Kill/Death Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows your overall kills/deaths by time.
    <p>KD: All Time</p>
    <app-kdchart [kill_map]="this.character.kills" [death_map]="this.character.deaths"
    [index]="0" [kdchartId]="'kdchart1'"></app-kdchart>
    <p>KD: Monthly</p>
    <app-kdchart [kill_map]="this.character.kills" [death_map]="this.character.deaths"
    [index]="1" [kdchartId]="'kdchart2'"></app-kdchart>
    <p>KD: Weekly</p>
    <app-kdchart [kill_map]="this.character.kills" [death_map]="this.character.deaths"
    [index]="2" [kdchartId]="'kdchart2'"></app-kdchart>
    <p>KD: Daily</p>
    <app-kdchart [kill_map]="this.character.kills" [death_map]="this.character.deaths"
    [index]="3" [kdchartId]="'kdchart3'"></app-kdchart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Overall Kill Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows your overall kills by time and faction
    <br>(including your faction).
    <p>Kills: All Time</p>
    <app-killchart [kill_map]="this.character.kills" [index]="0"
    [killchartId]="'killchart1'" [kill_type]="'overall'"></app-killchart>
    <p>Kills: Monthly</p>
    <app-killchart [kill_map]="this.character.kills" [index]="1"
    [killchartId]="'killchart2'" [kill_type]="'overall'"></app-killchart>
    <p>Kills: Weekly</p>
    <app-killchart [kill_map]="this.character.kills" [index]="2"
    [killchartId]="'killchart3'" [kill_type]="'overall'"></app-killchart>
    <p>Kills: Daily</p>
    <app-killchart [kill_map]="this.character.kills" [index]="3"
    [killchartId]="'killchart4'" [kill_type]="'overall'"></app-killchart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Class Kill Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows your kills as X class for all time.
    <app-killchart [kill_map]="this.character.kills_as_infantry" [index]="0"
    [killchartId]="'killchart5'" [kill_type]="'infantry'"></app-killchart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Vehicle Kill Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows your kills inside X vehicle for all time.
    <app-killchart [kill_map]="this.character.kills_with_vehicle" [index]="0"
    [killchartId]="'killchart6'" [displayOn]="false" [kill_type]="'vehicle'"></app-killchart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Overall Death Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows your overall deaths by time and by faction
    <br>(including your faction).
    <p>Deaths: All Time</p>
    <app-deathchart [death_map]="this.character.deaths" [index]="0"
    [deathchartId]="'deathchart1'" [death_type]="'overall'"></app-deathchart>
    <p>Deaths: Monthly</p>
    <app-deathchart [death_map]="this.character.deaths" [index]="1"
    [deathchartId]="'deathchart2'" [death_type]="'overall'"></app-deathchart>
    <p>Deaths: Weekly</p>
    <app-deathchart [death_map]="this.character.deaths" [index]="2"
    [deathchartId]="'deathchart3'" [death_type]="'overall'"></app-deathchart>
    <p>Deaths: Daily</p>
    <app-deathchart [death_map]="this.character.deaths" [index]="3"
    [deathchartId]="'deathchart4'" [death_type]="'overall'"></app-deathchart>
  </mat-card-content>
</mat-card>

<mat-card class="card" *ngIf="character">
  <mat-card-header>
    <mat-card-title class="card-title">Class Death Statistics</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Shows what class your killer was for all time or what class you were when you died.
    <p>Class of killer:</p>
    <app-deathchart [death_map]="this.character.killed_by_infantry" [index]="0"
    [deathchartId]="'deathchart5'" [death_type]="'infantry'"></app-deathchart>
    <p>Your Class when killed:</p>
    <app-deathchart [death_map]="this.character.class_deaths" [index]="0"
    [deathchartId]="'deathchart6'" [death_type]="'infantry'"></app-deathchart>
  </mat-card-content>
</mat-card>
</div>
